(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"/ZZE":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{d(i.next(e))}catch(t){o(t)}}function c(e){try{d(i.throw(e))}catch(t){o(t)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedTweet=void 0;const r={};class o extends HTMLElement{constructor(){super();const e=this.getAttribute("src");if(!e)return;this.url=e;const t=e.match(/https?:\/\/twitter.com\/(.*?)\/status\/(\d+)[/?]?/);t&&t[2]&&(this.tweetId=t[2])}connectedCallback(){return i(this,void 0,void 0,(function*(){this.render(),this.embedTweet()}))}render(){const e=this.tweetId&&r[this.tweetId]?`style="min-height: ${encodeURIComponent(r[this.tweetId])};"`:"";this.innerHTML=`<div class="embed-tweet-container" ${e}>\n      <a href="${this.url}" class="embed-tweet-link" rel="nofollow">${this.url}</a>\n    </div>`}embedTweet(){return i(this,void 0,void 0,(function*(){const e=this.tweetId;if(!this.url||!e)return void console.log(`Invalid tweet URL:${this.url}`);const t=this.querySelector(".embed-tweet-container"),n=this.url.includes("?conversation=none");window.twttr.widgets.createTweet(this.tweetId,t,Object.assign({align:"center"},n?{conversation:"none"}:{})).then((()=>{var t;null===(t=this.querySelector(".embed-tweet-link"))||void 0===t||t.remove();const n=this.querySelector("iframe");n&&setTimeout((()=>{r[e]=n.style.height}),1e3)}))}))}}t.EmbedTweet=o},"7pZu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadStylesheet=void 0,t.loadStylesheet=function({href:e,id:t}){return new Promise(((n,i)=>{if(document.getElementById(t))return n();const r=document.createElement("link");r.setAttribute("href",e),r.setAttribute("rel","stylesheet"),r.setAttribute("id",t),document.head.appendChild(r),r.onload=()=>{n()},r.onerror=e=>i(e)}))}},LxTR:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{d(i.next(e))}catch(t){o(t)}}function c(e){try{d(i.throw(e))}catch(t){o(t)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedKatex=void 0;const r=n("NTYe"),o=n("7pZu");class s extends HTMLElement{constructor(){super();const e=document.createElement("div");e.setAttribute("id","katex-container"),this._container=e}connectedCallback(){return i(this,void 0,void 0,(function*(){this.render()}))}render(){var e;return i(this,void 0,void 0,(function*(){"undefined"===typeof katex&&(yield r.loadScript({src:"https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.js",id:"katex-js"})),o.loadStylesheet({href:"https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css",id:"katex-css"});const t=!!this.getAttribute("display-mode");null===katex||void 0===katex||katex.render(null!==(e=this.innerText)&&void 0!==e?e:"",this._container,{macros:{"\\RR":"\\mathbb{R}"},throwOnError:!1,displayMode:t}),this.innerHTML=this._container.innerHTML}))}}t.EmbedKatex=s},MtsY:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{d(i.next(e))}catch(t){o(t)}}function c(e){try{d(i.throw(e))}catch(t){o(t)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedGist=void 0;const r=n("f/zu"),o={};class s extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:"open"}),t=o[this.getCacheKey()];t&&(e.innerHTML=t)}render(e){if(!(this.shadowRoot&&e.stylesheet&&e.div))return void this.renderError();const t=`<link rel="stylesheet" href="${e.stylesheet}"><div>${e.div}</div>`;o[this.getCacheKey()]=t,this.shadowRoot.innerHTML=t}renderError(){this.innerHTML=`<div style="text-align: center; margin: 1.5rem 0; color: gray; font-size: 0.9rem;">\n    Gist\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f<br>  \n    ${this.getAttribute("page-url")}\n    </div>`}getCacheKey(){return encodeURIComponent(`${this.getAttribute("page-url")}-${this.getAttribute("encoded-filename")}`)}connectedCallback(){return i(this,void 0,void 0,(function*(){if(o[this.getCacheKey()])return;const e=this.getAttribute("page-url"),t=this.getAttribute("encoded-filename");if(!e)return;const n=((i=e).endsWith(".json")?i:i.endsWith(".js")?i.replace(".js",".json"):`${i}.json`)+((null===t||void 0===t?void 0:t.length)?`?file=${t}`:"");var i;try{const e=yield r.getByJsonp(n);this.render(e)}catch(s){console.log(s),this.renderError()}}))}}t.EmbedGist=s},NTYe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=void 0;const i={};t.loadScript=function({src:e,id:t}){return new Promise(((n,r)=>{if(document.getElementById(t)){const e=setInterval((()=>{i[t]&&(clearInterval(e),n())}),100)}else{const o=document.createElement("script");o.setAttribute("src",e),o.setAttribute("id",t),document.head.appendChild(o),o.onload=()=>{i[t]=!0,n()},o.onerror=e=>r(e)}}))}},"f/zu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getByJsonp=void 0;const i=document.getElementsByTagName("head")[0];let r=null;function o(){r&&clearTimeout(r)}const s=(e,t)=>{try{delete window[e]}catch(r){window[e]=void 0}const n=document.getElementById(t);n&&i.removeChild(n)};t.getByJsonp=function(e){const t=`jsonp_${Date.now()}_${Math.ceil(1e4*Math.random())}`,n=`id_${t}`;return new Promise(((c,d)=>{window[t]=e=>{c(e),o(),s(t,n)};const u=e+(e.includes("?")?"&":"?")+`callback=${t}`,a=document.createElement("script");a.setAttribute("src",u),a.setAttribute("charset","UTF-8"),a.id=n,i.appendChild(a),r=setTimeout((()=>{d(new Error(`Request to ${e} timed out.`)),s(t,n),window[t]=()=>s(t,n)}),6e3),a.addEventListener("error",(()=>{d(new Error(`JSONP request to ${e} failed`)),s(t,n),o()}))}))}},"z/Y7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("MtsY"),r=n("/ZZE"),o=n("LxTR");customElements.define("embed-gist",i.EmbedGist),customElements.define("embed-tweet",r.EmbedTweet),customElements.define("embed-katex",o.EmbedKatex)}}]);