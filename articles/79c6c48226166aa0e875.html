<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon shortcut" href="http://localhost:8000/favicon.png"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap"/><script>window.twttr=(function(f,b,g){var e,c=f.getElementsByTagName(b)[0],a=window.twttr||{};if(f.getElementById(g)){return a}e=f.createElement(b);e.id=g;e.src="https://platform.twitter.com/widgets.js";c.parentNode.insertBefore(e,c);a._e=[];a.ready=function(d){a._e.push(d)};return a}(document,"script","twitter-wjs"));</script><title>量子コンピュータで“Covert”⁉️な1bitガチャのプレビュー</title><meta name="next-head-count" content="6"/><link rel="preload" href="../_next/static/css/2235a6460a19405f0647.css" as="style"/><link rel="stylesheet" href="../_next/static/css/2235a6460a19405f0647.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="../_next/static/chunks/main-1b66b3d4e760501de7fc.js" as="script"/><link rel="preload" href="../_next/static/chunks/webpack-101b4f64d52887b5db9b.js" as="script"/><link rel="preload" href="../_next/static/chunks/framework.c81d3c1a1154ef2f0a4c.js" as="script"/><link rel="preload" href="../_next/static/chunks/commons.1d17d07e0ebe7c16f5b5.js" as="script"/><link rel="preload" href="../_next/static/chunks/pages/_app-b342a0da64871712e09b.js" as="script"/><link rel="preload" href="../_next/static/chunks/7ea9eb72fe501167df0c2d045178d60d280aa121.549ac0d8bdc0604fb58b.js" as="script"/><link rel="preload" href="../_next/static/chunks/fac796102cd92fcc9d69418a1184140a0c3193c8.fee5f3964bb5b2c71f69.js" as="script"/><link rel="preload" href="../_next/static/chunks/pages/articles/[slug]-ed1dc9d6a24fac085414.js" as="script"/></head><body><div id="__next"><div class="main-container"><div class="main-sidebar"><aside class="sidebar"><header class="sidebar-header"><a class="sidebar-logo-link" href="http://localhost:8000/"><img src="../logo.svg" alt="Zenn Editor" width="160" height="19"/></a><a href="https://github.com/zenn-dev/zenn-editor" class="sidebar-github-link"><img src="../github.svg" alt="GitHub" width="22" height="22"/></a></header><div class="sidebar-collections"><details class="sidebar-collection" open=""><summary class="sidebar-collection__title">articles</summary><ul class="sidebar-collection__ul"><li class="sidebar-collection__li"><a class="sidebar-nav-item " title="/articles/268447da9fb103.md" href="268447da9fb103.html">🏹 <span class="draft">下書き</span>Swift Bow Archの入門</a></li><li class="sidebar-collection__li"><a class="sidebar-nav-item " title="/articles/54134d8df9f9b5385fc3.md" href="54134d8df9f9b5385fc3.html">📄 Zennの記事をGitHub Pagesで無理やり表示する</a></li><li class="sidebar-collection__li"><a class="sidebar-nav-item active" title="/articles/79c6c48226166aa0e875.md" href="79c6c48226166aa0e875.html">🙈 <span class="draft">下書き</span>量子コンピュータで“Covert”⁉️な1bitガチャ</a></li><li class="sidebar-collection__li"><a class="sidebar-nav-item " title="/articles/scala-play-new-relic.md" href="scala-play-new-relic.html">📈 Scala + Play on HerokuなWebアプリにNew Relicを導入</a></li></ul></details><details class="sidebar-collection" open=""><summary class="sidebar-collection__title">books</summary><ul class="sidebar-collection__ul"><li class="sidebar-collection__li"><a class="sidebar-nav-item " title="undefined.md" href="http://localhost:8000/">✨ 最初の本を作成しましょう</a></li></ul></details></div><a href="https://zenn.dev/dashboard/uploader" class="sidebar-external-link" target="_blank" rel="noopener noreferrer"><img src="https://twemoji.maxcdn.com/2/svg/\1f4f7.svg" width="16" height="16"/>画像のアップロード</a><a href="https://zenn.dev/zenn/articles/markdown-guide" class="sidebar-external-link" target="_blank" rel="noopener noreferrer"><img src="https://twemoji.maxcdn.com/2/svg/\1f58b.svg" width="16" height="16"/>マークダウン・ガイド</a><a href="https://zenn.dev/zenn/articles/zenn-cli-guide" class="sidebar-external-link" target="_blank" rel="noopener noreferrer"><img src="https://twemoji.maxcdn.com/2/svg/\1f4bb.svg" width="16" height="16"/>CLIコマンド・ガイド</a></aside><button class="main-sidebar__minimize"><img src="../chevron.svg" alt="" width="22" height="22"/></button></div><main class="main-content"><article><div><header class="content-header"><div class="content-wrapper"><h1 class="content-header__title">量子コンピュータで“Covert”⁉️な1bitガチャ</h1><div class="content-header__row"><span class="content-header__row-title">slug</span><span class="content-header__row-result">79c6c48226166aa0e875</span></div><div class="content-header__row"><span class="content-header__row-title">emoji</span><span class="content-header__row-result"><span style="font-size:20px">🙈</span></span></div><div class="content-header__row"><span class="content-header__row-title">topics</span><span class="content-header__row-result"><span class="content-header__topic">量子コンピュータ</span><span class="content-header__topic">暗号</span><span class="content-header__topic">セキュリティ</span></span></div><div class="content-header__row"><span class="content-header__row-title">published</span><span class="content-header__row-result">false（下書き）</span></div><div class="content-header__row"><span class="content-header__row-title">type</span><span class="content-header__row-result">tech<!-- -->（技術記事）</span></div><a href="https://zenn.dev/zenn/articles/zenn-cli-guide" class="content-header__link" rel="noopener noreferrer" target="_blank">記事の作成方法 →</a></div></header><div class="content-wrapper"><div style="margin:40px 0"><div class="znc"><h1 id="%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><a class="header-anchor-link" href="79c6c48226166aa0e875.html#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB" rel="nofollow"></a> はじめに</h1>
<p>“<em>Covert Lottery</em>” とは論文<a href="https://doi.org/10.1007/978-3-030-69255-1_17" rel="nofollow">Card-Based Covert Lottery</a><sup class="footnote-ref"><a href="79c6c48226166aa0e875.html#fn1" id="fnref1">[1]</a></sup>で導入された用語である。これはプレイヤーの秘密の希望を入力し、</p>
<ol>
<li>それらが衝突しないのであれば希望通りにし</li>
<li>そうでないなら、ランダムな結果を出力する</li>
</ol>
<p>というプロトコルである。たとえば将棋などで2人のプレイヤーが先手・後手を決める場合に使うことができる。この2人のプレイヤーはそれぞれ先手・後手のどちらにしたいという希望があるものとするが、一方でこの希望を相手に明らかにしてしまうと、戦略が流出する可能性がある。したがってこのプレイヤー2人がCovert Lotteryを行えば、各々の希望が先手・後手の希望が噛み合った（衝突していない）時にはそれを出力し、一方で2人ともが先手・後手のいずれかを希望した場合はランダムに決定する。このようにすれば2人のプレイヤーは自分の入力した希望通りとなったのか、それとも衝突してランダムに決定されたのか知ることができないため、戦略が流出しない。<br>
元論文ではこのようなプロトコルをカードベース暗号<sup class="footnote-ref"><a href="79c6c48226166aa0e875.html#fn2" id="fnref2">[2]</a></sup>で構成しているが、筆者が軽く読んだ限りでは量子コイントスでも達成できそうであったため、この記事では量子コイントスでこれをどのように達成するかについて議論する。<br>
この記事にもし何かの誤りがあったとしてもこの記事の筆者の落ち度であるので、コメントなどで気軽に教えてほしい。</p>
<h1 id="2%E4%BA%BA%E3%81%AEcovert-lottery%E3%82%92%E8%A1%8C%E3%81%86%E9%96%A2%E6%95%B0"><a class="header-anchor-link" href="79c6c48226166aa0e875.html#2%E4%BA%BA%E3%81%AEcovert-lottery%E3%82%92%E8%A1%8C%E3%81%86%E9%96%A2%E6%95%B0" rel="nofollow"></a> 2人のCovert Lotteryを行う関数</h1>
<p>この節では元論文で説明されている2人のCovert Lottery（先手・後手を秘密に決定する）についてまず説明する。<br>
いま2人のプレイヤーとしてアリスとボブがいるものとする。アリスの入力を<embed-katex><eq class="zenn-katex">a</eq></embed-katex>として、アリスが先手を希望するならならば<embed-katex><eq class="zenn-katex">a = 1</eq></embed-katex>となり、後手を希望するなら<embed-katex><eq class="zenn-katex">a = 0</eq></embed-katex>となる。ボブについても同様に先手を希望するなら<embed-katex><eq class="zenn-katex">b = 1</eq></embed-katex>であり、後手を希望するなら<embed-katex><eq class="zenn-katex">b = 1</eq></embed-katex>とする。つまり先手なら<embed-katex><eq class="zenn-katex">1</eq></embed-katex>、後手なら<embed-katex><eq class="zenn-katex">0</eq></embed-katex>というエンコードになっている。<br>
そして<embed-katex><eq class="zenn-katex">\mathcal{F}</eq></embed-katex>を「アリスの先手・後手を出力する関数」であるとすると、次のようになる。</p>
<section class="zenn-katex"><eqn><embed-katex display-mode="1">
\mathcal{F}(a, b) := \left\{
  \begin{array}{lr}
    a &amp; \text{if}\; a \ne b \\
    i \xleftarrow{\text{rnd}} \{0, 1\} &amp; \text{if}\; a = b
  \end{array}
\right.
</embed-katex></eqn></section></math>
<p>ただし<embed-katex><eq class="zenn-katex">\xleftarrow{\text{rnd}} \{0, 1\}</eq></embed-katex>は<embed-katex><eq class="zenn-katex">\{0, 1\}</eq></embed-katex>からランダムに片方を選ぶことを意味している<sup class="footnote-ref"><a href="79c6c48226166aa0e875.html#fn3" id="fnref3">[3]</a></sup>。</p>
<p>議論の前に、この後すぐに使うので先に表記として<embed-katex><eq class="zenn-katex">\overline{x}</eq></embed-katex>を導入しておく。これは<embed-katex><eq class="zenn-katex">x \in \{0,1\}</eq></embed-katex>にNOT演算を適用した結果を意味している。たとえば<embed-katex><eq class="zenn-katex">x = 0</eq></embed-katex>であれば<embed-katex><eq class="zenn-katex">\overline{x} = 1</eq></embed-katex>となる。</p>
<p>さて、この関数<embed-katex><eq class="zenn-katex">\mathcal{F}</eq></embed-katex>について考える。今もし<embed-katex><eq class="zenn-katex">a \ne b</eq></embed-katex>であったとしたら、<embed-katex><eq class="zenn-katex">a, b \in \{0, 1\}</eq></embed-katex>であるから、<embed-katex><eq class="zenn-katex">a = \overline{b}</eq></embed-katex>となる。逆に<embed-katex><eq class="zenn-katex">a = b</eq></embed-katex>であれば<embed-katex><eq class="zenn-katex">\{a, \overline{b}\} = \{0, 1\}</eq></embed-katex>である。この2つをまとめると<embed-katex><eq class="zenn-katex">\mathcal{F}</eq></embed-katex>を次のように書き直せる。</p>
<section class="zenn-katex"><eqn><embed-katex display-mode="1">
\mathcal{F}(a, b) = \left\{
  \begin{array}{lr}
    a\, (= \overline{b}) &amp; \text{if}\; a \ne b \\
    i \xleftarrow{\text{rnd}} \{a, \overline{b}\} &amp; \text{if}\; a = b
  \end{array}
\right.
</embed-katex></eqn></section></math>
<p>ここで<embed-katex><eq class="zenn-katex">a \ne b</eq></embed-katex>のケースは実は<embed-katex><eq class="zenn-katex">a = \overline{b}</eq></embed-katex>なため、<embed-katex><eq class="zenn-katex">\{a, \overline{b}\}</eq></embed-katex>からどちらかを選んだ結果と等しくなる。そのためもはやこの場合分けは不要となり<embed-katex><eq class="zenn-katex">\mathcal{F}</eq></embed-katex>は次のようになる。</p>
<section class="zenn-katex"><eqn><embed-katex display-mode="1">
\mathcal{F}(a, b) = r \xleftarrow{\text{rnd}} \{a, \overline{b}\}
</embed-katex></eqn></section></math>
<p>元論文では、<embed-katex><eq class="zenn-katex">a, b</eq></embed-katex>を秘密にしたままこのような関数<embed-katex><eq class="zenn-katex">\mathcal{F}</eq></embed-katex>をカードプロトコルで構成していた。その説明が気になる人は元論文を入手してもらうとして、ここでは量子コンピュータを利用した方法を紹介する。</p>
<h1 id="%E9%87%8F%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E3%81%AB%E3%82%88%E3%82%8B2%E4%BA%BA%E3%81%AEcovert-lottery"><a class="header-anchor-link" href="79c6c48226166aa0e875.html#%E9%87%8F%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E3%81%AB%E3%82%88%E3%82%8B2%E4%BA%BA%E3%81%AEcovert-lottery" rel="nofollow"></a> 量子コンピュータによる2人のCovert Lottery</h1>
<p>それでは実際に量子コンピュータを利用したプロトコルについて説明する<sup class="footnote-ref"><a href="79c6c48226166aa0e875.html#fn4" id="fnref4">[4]</a></sup>。今、アリスとボブの2人が先手・後手を決めたいと考えている。前節と同様に<embed-katex><eq class="zenn-katex">1</eq></embed-katex>を先手、<embed-katex><eq class="zenn-katex">0</eq></embed-katex>を後手として次のようなプロトコルを実行する。</p>
<ol>
<li>
<p>アリスは1bitの乱数<embed-katex><eq class="zenn-katex">x \xleftarrow{\text{rnd}} \{0, 1\}</eq></embed-katex>と、先手・後手の希望<embed-katex><eq class="zenn-katex">a</eq></embed-katex>を選択する</p>
</li>
<li>
<p>アリスは<embed-katex><eq class="zenn-katex">a, x</eq></embed-katex>を用いて次の4つ量子状態から1つ<embed-katex><eq class="zenn-katex">\ket{\psi_{a,x}}</eq></embed-katex>を選択する</p>
<section class="zenn-katex"><eqn><embed-katex display-mode="1">
    \def\bra#1{\mathinner{\left\langle{#1}\right|}}
    \def\ket#1{\mathinner{\left|{#1}\right\rangle}}
    \def\braket#1#2{\mathinner{\left\langle{#1}\middle|#2\right\rangle}}
    \begin{align*}
    \left\{
      \begin{array}{l}
        \ket{\psi_{0,0}} \equiv \ket{0} \\
        \ket{\psi_{0,1}} \equiv \ket{1} \\
        \ket{\psi_{1,0}} \equiv \ket{+} \\
        \ket{\psi_{1,1}} \equiv \ket{-}
      \end{array}
    \right.&amp; \\
           &amp;\text{where}\; \ket{\pm} \equiv \frac{1}{\sqrt{2}}\left(\ket{0} \pm \ket{1}\right)
    \end{align*}
    </embed-katex></eqn></section></math>
</li>
<li>
<p>アリスはボブへ量子ビット<embed-katex><eq class="zenn-katex">\ket{\psi_{a,x}}</eq></embed-katex>を送信する</p>
</li>
<li>
<p>ボブは量子状態<embed-katex><eq class="zenn-katex">\ket{\psi_{a,x}}</eq></embed-katex>を受信し、ボブの希望<embed-katex><eq class="zenn-katex">b \in \{0, 1\}</eq></embed-katex>を選択する</p>
</li>
<li>
<p>ボブは次のような基底状態<embed-katex><eq class="zenn-katex">\mathcal{B}_{\overline{b}}</eq></embed-katex>で<embed-katex><eq class="zenn-katex">\ket{\psi_{a,x}}</eq></embed-katex>を測定し、測定結果を<embed-katex><eq class="zenn-katex">y</eq></embed-katex>とする</p>
<section class="zenn-katex"><eqn><embed-katex display-mode="1">
    \mathcal{B}_{\overline{b}} \equiv \left\{\ket{\psi_{\overline{b},0}}, \ket{\psi_{\overline{b},1}}\right\}
    </embed-katex></eqn></section></math>
<ul>
<li><embed-katex><eq class="zenn-katex">\overline{b}</eq></embed-katex>を利用することに注意する</li>
</ul>
</li>
<li>
<p>ボブはアリスへ<embed-katex><eq class="zenn-katex">y</eq></embed-katex>を送信する</p>
</li>
<li>
<p>アリスは<embed-katex><eq class="zenn-katex">y</eq></embed-katex>を受けとり、<embed-katex><eq class="zenn-katex">a \oplus x \oplus y</eq></embed-katex><sup class="footnote-ref"><a href="79c6c48226166aa0e875.html#fn5" id="fnref5">[5]</a></sup>をボブへ送信しプロトコルの結果とする</p>
</li>
</ol>
<p>このプロトコルだけ見せられても実際に正しく動作しているのかよく分からないと思うので、アリスの変数<embed-katex><eq class="zenn-katex">a, x</eq></embed-katex>とボブの変数<embed-katex><eq class="zenn-katex">b</eq></embed-katex>について<embed-katex><eq class="zenn-katex">y</eq></embed-katex>や<embed-katex><eq class="zenn-katex">a \oplus x \oplus y</eq></embed-katex>がどうなるのか？というのを次の表にまとめた。</p>
<table>
<thead>
<tr>
<th><embed-katex><eq class="zenn-katex">a</eq></embed-katex></th>
<th><embed-katex><eq class="zenn-katex">x</eq></embed-katex></th>
<th><embed-katex><eq class="zenn-katex">\ket{\psi_{a,x}}</eq></embed-katex></th>
<th><embed-katex><eq class="zenn-katex">\overline{b}</eq></embed-katex></th>
<th><embed-katex><eq class="zenn-katex">\mathcal{B}_{\overline{b}}</eq></embed-katex></th>
<th style="text-align:center"><embed-katex><eq class="zenn-katex">y</eq></embed-katex></th>
<th style="text-align:center"><embed-katex><eq class="zenn-katex">a \oplus x \oplus y</eq></embed-katex></th>
</tr>
</thead>
<tbody>
<tr>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex>（後手）</td>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">\ket{0}</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex>（先手）</td>
<td><embed-katex><eq class="zenn-katex">\left\{\ket{0}, \ket{1}\right\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">0</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">0</eq></embed-katex></td>
</tr>
<tr>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex>（後手）</td>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">\ket{0}</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex>（後手）</td>
<td><embed-katex><eq class="zenn-katex">\left\{\ket{+}, \ket{-}\right\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">r \xleftarrow{\text{rnd}} \{0, 1\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">r \xleftarrow{\text{rnd}} \{0, 1\}</eq></embed-katex></td>
</tr>
<tr>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex>（後手）</td>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">\ket{1}</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex>（先手）</td>
<td><embed-katex><eq class="zenn-katex">\left\{\ket{0}, \ket{1}\right\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">1</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">0</eq></embed-katex></td>
</tr>
<tr>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex>（後手）</td>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">\ket{1}</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex>（後手）</td>
<td><embed-katex><eq class="zenn-katex">\left\{\ket{+}, \ket{-}\right\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">r \xleftarrow{\text{rnd}} \{0, 1\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">r \xleftarrow{\text{rnd}} \{0, 1\}</eq></embed-katex></td>
</tr>
<tr>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex>（先手）</td>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">\ket{+}</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex>（先手）</td>
<td><embed-katex><eq class="zenn-katex">\left\{\ket{0}, \ket{1}\right\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">r \xleftarrow{\text{rnd}} \{0, 1\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">r \xleftarrow{\text{rnd}} \{0, 1\}</eq></embed-katex></td>
</tr>
<tr>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex>（先手）</td>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">\ket{+}</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex>（後手）</td>
<td><embed-katex><eq class="zenn-katex">\left\{\ket{+}, \ket{-}\right\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">0</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">1</eq></embed-katex></td>
</tr>
<tr>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex>（先手）</td>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">\ket{-}</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">0</eq></embed-katex>（先手）</td>
<td><embed-katex><eq class="zenn-katex">\left\{\ket{0}, \ket{1}\right\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">r \xleftarrow{\text{rnd}} \{0, 1\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">r \xleftarrow{\text{rnd}} \{0, 1\}</eq></embed-katex></td>
</tr>
<tr>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex>（先手）</td>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">\ket{-}</eq></embed-katex></td>
<td><embed-katex><eq class="zenn-katex">1</eq></embed-katex>（後手）</td>
<td><embed-katex><eq class="zenn-katex">\left\{\ket{+}, \ket{-}\right\}</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">1</eq></embed-katex></td>
<td style="text-align:center"><embed-katex><eq class="zenn-katex">1</eq></embed-katex></td>
</tr>
</tbody>
</table>
<p>このようにアリスとボブの先手・後手の希望が異なる時に限って最終的な出力<embed-katex><eq class="zenn-katex">a \oplus x \oplus y</eq></embed-katex>がアリスの先手・後手を示すようになっている。<br>
なぜこのようになるのか？そのアイディアをまとめると</p>
<ul>
<li><embed-katex><eq class="zenn-katex">a = \overline{b}\,(\Rightarrow a \ne b)</eq></embed-katex>のときは（5）の測定結果<embed-katex><eq class="zenn-katex">y</eq></embed-katex>はアリスの乱数<embed-katex><eq class="zenn-katex">x</eq></embed-katex>と必ず一致する
<ul>
<li>一方で<embed-katex><eq class="zenn-katex">a \ne \overline{b}</eq></embed-katex>のときは<embed-katex><eq class="zenn-katex">y</eq></embed-katex>が乱数になるため、<embed-katex><eq class="zenn-katex">a \oplus x \oplus y</eq></embed-katex>は最終的に乱数とXORするので乱数となりOKである</li>
</ul>
</li>
<li><embed-katex><eq class="zenn-katex">a = \overline{b}</eq></embed-katex>なときは<embed-katex><eq class="zenn-katex">x = y</eq></embed-katex>なので、したがって<embed-katex><eq class="zenn-katex">a \oplus x \oplus y</eq></embed-katex>のXORはキャンセルされて<embed-katex><eq class="zenn-katex">a</eq></embed-katex>が計算される</li>
</ul>
<h2 id="%E3%81%93%E3%81%AE%E3%83%97%E3%83%AD%E3%83%88%E3%82%B3%E3%83%AB%E3%81%AE%E5%95%8F%E9%A1%8C%E7%82%B9"><a class="header-anchor-link" href="79c6c48226166aa0e875.html#%E3%81%93%E3%81%AE%E3%83%97%E3%83%AD%E3%83%88%E3%82%B3%E3%83%AB%E3%81%AE%E5%95%8F%E9%A1%8C%E7%82%B9" rel="nofollow"></a> このプロトコルの問題点</h2>
<p>このプロトコルでは（7）で最後にアリスの手元で行なわれる計算が最終的な結果となるため、アリスが不誠実であればここで結果を意図的に変更できる。したがってこれは少なくともアリスがセミオネスト<sup class="footnote-ref"><a href="79c6c48226166aa0e875.html#fn6" id="fnref6">[6]</a></sup>であるという仮定の下でしか上手くいかない。</p>
<h1 id="covert-lottery%E3%81%A8%E3%82%AC%E3%83%81%E3%83%A3"><a class="header-anchor-link" href="79c6c48226166aa0e875.html#covert-lottery%E3%81%A8%E3%82%AC%E3%83%81%E3%83%A3" rel="nofollow"></a> Covert Lotteryとガチャ</h1>
<p>元論文でもCovert Lotteryと呼ばれているように、これは先手・後手の決定とは別にくじに使うことができる。元論文ではこの2人のCovert Lotteryを任意の多人数へ拡張して次のような説明をしている。</p>
<ul>
<li><embed-katex><eq class="zenn-katex">n</eq></embed-katex>人の<embed-katex><eq class="zenn-katex">P_1, \dots P_n</eq></embed-katex>参加者が<embed-katex><eq class="zenn-katex">m</eq></embed-katex>個の景品<embed-katex><eq class="zenn-katex">I_1, \dots, I_m</eq></embed-katex>のうちいくつか（0個もOK）が欲しいと考えている</li>
<li>景品<embed-katex><eq class="zenn-katex">I_i</eq></embed-katex>について、プレイヤーは<embed-katex><eq class="zenn-katex">0</eq></embed-katex>または<embed-katex><eq class="zenn-katex">1</eq></embed-katex>を投票する</li>
<li>このとき
<ol>
<li>もし1人のプレイヤー<embed-katex><eq class="zenn-katex">P_j</eq></embed-katex>のみが<embed-katex><eq class="zenn-katex">1</eq></embed-katex>を投票し、それ以外の全プレイヤーが<embed-katex><eq class="zenn-katex">0</eq></embed-katex>を投票していれば<embed-katex><eq class="zenn-katex">P_j</eq></embed-katex>が景品<embed-katex><eq class="zenn-katex">I_i</eq></embed-katex>を入手する</li>
<li>一方で複数のプレイヤーが<embed-katex><eq class="zenn-katex">1</eq></embed-katex>を投票した場合は、そのプレイヤーの中からランダムに1人を決定する</li>
</ol>
</li>
</ul>
<p>つまり、2人のCovert Lotteryも上記のように考えると、2人のプレイヤーにおいて次のようになる。</p>
<ul>
<li>どちらか1人のみ景品が欲しい場合はそちらに景品が当選する</li>
<li>2人ともが景品が欲しい・欲くない場合はランダムに当選者が選択される</li>
</ul>
<p>つまり複数のプレイヤー間で、プレイヤーの希望を隠蔽したまま景品をなるべく希望に沿う形で当選させることができる。たとえば欲しくない景品が当選したので転売するといったことはあるだろうと思うので、そういったことをなるべく少なくできるかもしれない。</p>
<h1 id="%E3%81%BE%E3%81%A8%E3%82%81"><a class="header-anchor-link" href="79c6c48226166aa0e875.html#%E3%81%BE%E3%81%A8%E3%82%81" rel="nofollow"></a> まとめ</h1>
<p>アリスがセミオネストであるという仮定をなんとか取り除けないか多少は考えたものの、すぐには思いつかなかったのでいったんこのままで公開することにした。もしよい方法を思いついたという方がいれば教えてほしい。<br>
また元論文では今回紹介した2人のプロトコルを任意の人数へ拡張していたため、そちらも量子プロトコルで達成できないか？というのを考えていきたい。</p>
<h1 id="%E8%AC%9D%E8%BE%9E"><a class="header-anchor-link" href="79c6c48226166aa0e875.html#%E8%AC%9D%E8%BE%9E" rel="nofollow"></a> 謝辞</h1>
<p>元論文を教えてくれた<a href="https://twitter.com/mimizunohimono" rel="nofollow">@mimizunohimono</a>君に感謝したい。</p>
<section class="footnotes">
<div class="footnotes-title"><img src="https://twemoji.maxcdn.com/2/svg/1f58b.svg" class="emoji footnotes-twemoji" loading="lazy" width="20" height="20">脚注</div>
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>この論文のことを今後は「元論文」という呼ぶことにする。 <a href="79c6c48226166aa0e875.html#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>この文書を読むうえではカードベース暗号の知識は必要ないが、これはこれで非常におもしろいので、たとえば<a href="https://doi.org/10.1587/essfr.9.3_179" rel="nofollow">カード組を用いた秘密計算</a>といった文献を読むとよい。 <a href="79c6c48226166aa0e875.html#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>論文では矢印の上に<code>$</code>（LaTeX表記では<code>\xleftarrow{\text{$}}</code>）の記号を利用してランダムを表現しているが、Zennのパーザーの都合（？）でこの表記が数式として認められなかったため表記を変更した。 <a href="79c6c48226166aa0e875.html#fnref3" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p>この記事では量子コンピュータの基本的な演算の知識を前提としている。このあたりは拙著の<a href="https://qiita.com/yyu/items/efcf471ce9b97e885957#%E5%8F%A4%E5%85%B8%E8%A8%88%E7%AE%97%E6%A9%9F%E3%81%A8%E9%87%8F%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF" rel="nofollow">量子コンピュータを利用した公平なガチャ#古典計算機と量子コンピュータ</a>などを参考にしてほしい。 <a href="79c6c48226166aa0e875.html#fnref4" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn5" class="footnote-item"><p><embed-katex><eq class="zenn-katex">\oplus</eq></embed-katex>はXOR演算を表す。 <a href="79c6c48226166aa0e875.html#fnref5" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn6" class="footnote-item"><p>プレイヤーが「セミオネスト（<em>semi-honest</em>）」であるとき、このプレイヤーはプロトコルの指示には違反しないが、プロトコルの指示に従う限りで（できるなら）他プレイヤーの情報を奪うといった不誠実な振る舞いをする。 <a href="79c6c48226166aa0e875.html#fnref6" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
</div></div></div></div></article></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"slug":"79c6c48226166aa0e875","content":"\u003ch1 id=\"%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" rel=\"nofollow\"\u003e\u003c/a\u003e はじめに\u003c/h1\u003e\n\u003cp\u003e“\u003cem\u003eCovert Lottery\u003c/em\u003e” とは論文\u003ca href=\"https://doi.org/10.1007/978-3-030-69255-1_17\" rel=\"nofollow\"\u003eCard-Based Covert Lottery\u003c/a\u003e\u003csup class=\"footnote-ref\"\u003e\u003ca href=\"#fn1\" id=\"fnref1\"\u003e[1]\u003c/a\u003e\u003c/sup\u003eで導入された用語である。これはプレイヤーの秘密の希望を入力し、\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eそれらが衝突しないのであれば希望通りにし\u003c/li\u003e\n\u003cli\u003eそうでないなら、ランダムな結果を出力する\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eというプロトコルである。たとえば将棋などで2人のプレイヤーが先手・後手を決める場合に使うことができる。この2人のプレイヤーはそれぞれ先手・後手のどちらにしたいという希望があるものとするが、一方でこの希望を相手に明らかにしてしまうと、戦略が流出する可能性がある。したがってこのプレイヤー2人がCovert Lotteryを行えば、各々の希望が先手・後手の希望が噛み合った（衝突していない）時にはそれを出力し、一方で2人ともが先手・後手のいずれかを希望した場合はランダムに決定する。このようにすれば2人のプレイヤーは自分の入力した希望通りとなったのか、それとも衝突してランダムに決定されたのか知ることができないため、戦略が流出しない。\u003cbr\u003e\n元論文ではこのようなプロトコルをカードベース暗号\u003csup class=\"footnote-ref\"\u003e\u003ca href=\"#fn2\" id=\"fnref2\"\u003e[2]\u003c/a\u003e\u003c/sup\u003eで構成しているが、筆者が軽く読んだ限りでは量子コイントスでも達成できそうであったため、この記事では量子コイントスでこれをどのように達成するかについて議論する。\u003cbr\u003e\nこの記事にもし何かの誤りがあったとしてもこの記事の筆者の落ち度であるので、コメントなどで気軽に教えてほしい。\u003c/p\u003e\n\u003ch1 id=\"2%E4%BA%BA%E3%81%AEcovert-lottery%E3%82%92%E8%A1%8C%E3%81%86%E9%96%A2%E6%95%B0\"\u003e\u003ca class=\"header-anchor-link\" href=\"#2%E4%BA%BA%E3%81%AEcovert-lottery%E3%82%92%E8%A1%8C%E3%81%86%E9%96%A2%E6%95%B0\" rel=\"nofollow\"\u003e\u003c/a\u003e 2人のCovert Lotteryを行う関数\u003c/h1\u003e\n\u003cp\u003eこの節では元論文で説明されている2人のCovert Lottery（先手・後手を秘密に決定する）についてまず説明する。\u003cbr\u003e\nいま2人のプレイヤーとしてアリスとボブがいるものとする。アリスの入力を\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea\u003c/eq\u003e\u003c/embed-katex\u003eとして、アリスが先手を希望するならならば\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea = 1\u003c/eq\u003e\u003c/embed-katex\u003eとなり、後手を希望するなら\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea = 0\u003c/eq\u003e\u003c/embed-katex\u003eとなる。ボブについても同様に先手を希望するなら\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003eb = 1\u003c/eq\u003e\u003c/embed-katex\u003eであり、後手を希望するなら\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003eb = 1\u003c/eq\u003e\u003c/embed-katex\u003eとする。つまり先手なら\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e、後手なら\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003eというエンコードになっている。\u003cbr\u003e\nそして\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\mathcal{F}\u003c/eq\u003e\u003c/embed-katex\u003eを「アリスの先手・後手を出力する関数」であるとすると、次のようになる。\u003c/p\u003e\n\u003csection class=\"zenn-katex\"\u003e\u003ceqn\u003e\u003cembed-katex display-mode=\"1\"\u003e\n\\mathcal{F}(a, b) := \\left\\{\n  \\begin{array}{lr}\n    a \u0026amp; \\text{if}\\; a \\ne b \\\\\n    i \\xleftarrow{\\text{rnd}} \\{0, 1\\} \u0026amp; \\text{if}\\; a = b\n  \\end{array}\n\\right.\n\u003c/embed-katex\u003e\u003c/eqn\u003e\u003c/section\u003e\u003c/math\u003e\n\u003cp\u003eただし\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\xleftarrow{\\text{rnd}} \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003eは\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003eからランダムに片方を選ぶことを意味している\u003csup class=\"footnote-ref\"\u003e\u003ca href=\"#fn3\" id=\"fnref3\"\u003e[3]\u003c/a\u003e\u003c/sup\u003e。\u003c/p\u003e\n\u003cp\u003e議論の前に、この後すぐに使うので先に表記として\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\overline{x}\u003c/eq\u003e\u003c/embed-katex\u003eを導入しておく。これは\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ex \\in \\{0,1\\}\u003c/eq\u003e\u003c/embed-katex\u003eにNOT演算を適用した結果を意味している。たとえば\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ex = 0\u003c/eq\u003e\u003c/embed-katex\u003eであれば\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\overline{x} = 1\u003c/eq\u003e\u003c/embed-katex\u003eとなる。\u003c/p\u003e\n\u003cp\u003eさて、この関数\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\mathcal{F}\u003c/eq\u003e\u003c/embed-katex\u003eについて考える。今もし\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea \\ne b\u003c/eq\u003e\u003c/embed-katex\u003eであったとしたら、\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea, b \\in \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003eであるから、\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea = \\overline{b}\u003c/eq\u003e\u003c/embed-katex\u003eとなる。逆に\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea = b\u003c/eq\u003e\u003c/embed-katex\u003eであれば\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\{a, \\overline{b}\\} = \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003eである。この2つをまとめると\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\mathcal{F}\u003c/eq\u003e\u003c/embed-katex\u003eを次のように書き直せる。\u003c/p\u003e\n\u003csection class=\"zenn-katex\"\u003e\u003ceqn\u003e\u003cembed-katex display-mode=\"1\"\u003e\n\\mathcal{F}(a, b) = \\left\\{\n  \\begin{array}{lr}\n    a\\, (= \\overline{b}) \u0026amp; \\text{if}\\; a \\ne b \\\\\n    i \\xleftarrow{\\text{rnd}} \\{a, \\overline{b}\\} \u0026amp; \\text{if}\\; a = b\n  \\end{array}\n\\right.\n\u003c/embed-katex\u003e\u003c/eqn\u003e\u003c/section\u003e\u003c/math\u003e\n\u003cp\u003eここで\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea \\ne b\u003c/eq\u003e\u003c/embed-katex\u003eのケースは実は\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea = \\overline{b}\u003c/eq\u003e\u003c/embed-katex\u003eなため、\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\{a, \\overline{b}\\}\u003c/eq\u003e\u003c/embed-katex\u003eからどちらかを選んだ結果と等しくなる。そのためもはやこの場合分けは不要となり\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\mathcal{F}\u003c/eq\u003e\u003c/embed-katex\u003eは次のようになる。\u003c/p\u003e\n\u003csection class=\"zenn-katex\"\u003e\u003ceqn\u003e\u003cembed-katex display-mode=\"1\"\u003e\n\\mathcal{F}(a, b) = r \\xleftarrow{\\text{rnd}} \\{a, \\overline{b}\\}\n\u003c/embed-katex\u003e\u003c/eqn\u003e\u003c/section\u003e\u003c/math\u003e\n\u003cp\u003e元論文では、\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea, b\u003c/eq\u003e\u003c/embed-katex\u003eを秘密にしたままこのような関数\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\mathcal{F}\u003c/eq\u003e\u003c/embed-katex\u003eをカードプロトコルで構成していた。その説明が気になる人は元論文を入手してもらうとして、ここでは量子コンピュータを利用した方法を紹介する。\u003c/p\u003e\n\u003ch1 id=\"%E9%87%8F%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E3%81%AB%E3%82%88%E3%82%8B2%E4%BA%BA%E3%81%AEcovert-lottery\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E9%87%8F%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E3%81%AB%E3%82%88%E3%82%8B2%E4%BA%BA%E3%81%AEcovert-lottery\" rel=\"nofollow\"\u003e\u003c/a\u003e 量子コンピュータによる2人のCovert Lottery\u003c/h1\u003e\n\u003cp\u003eそれでは実際に量子コンピュータを利用したプロトコルについて説明する\u003csup class=\"footnote-ref\"\u003e\u003ca href=\"#fn4\" id=\"fnref4\"\u003e[4]\u003c/a\u003e\u003c/sup\u003e。今、アリスとボブの2人が先手・後手を決めたいと考えている。前節と同様に\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003eを先手、\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003eを後手として次のようなプロトコルを実行する。\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eアリスは1bitの乱数\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ex \\xleftarrow{\\text{rnd}} \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003eと、先手・後手の希望\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea\u003c/eq\u003e\u003c/embed-katex\u003eを選択する\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eアリスは\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea, x\u003c/eq\u003e\u003c/embed-katex\u003eを用いて次の4つ量子状態から1つ\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{\\psi_{a,x}}\u003c/eq\u003e\u003c/embed-katex\u003eを選択する\u003c/p\u003e\n\u003csection class=\"zenn-katex\"\u003e\u003ceqn\u003e\u003cembed-katex display-mode=\"1\"\u003e\n    \\def\\bra#1{\\mathinner{\\left\\langle{#1}\\right|}}\n    \\def\\ket#1{\\mathinner{\\left|{#1}\\right\\rangle}}\n    \\def\\braket#1#2{\\mathinner{\\left\\langle{#1}\\middle|#2\\right\\rangle}}\n    \\begin{align*}\n    \\left\\{\n      \\begin{array}{l}\n        \\ket{\\psi_{0,0}} \\equiv \\ket{0} \\\\\n        \\ket{\\psi_{0,1}} \\equiv \\ket{1} \\\\\n        \\ket{\\psi_{1,0}} \\equiv \\ket{+} \\\\\n        \\ket{\\psi_{1,1}} \\equiv \\ket{-}\n      \\end{array}\n    \\right.\u0026amp; \\\\\n           \u0026amp;\\text{where}\\; \\ket{\\pm} \\equiv \\frac{1}{\\sqrt{2}}\\left(\\ket{0} \\pm \\ket{1}\\right)\n    \\end{align*}\n    \u003c/embed-katex\u003e\u003c/eqn\u003e\u003c/section\u003e\u003c/math\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eアリスはボブへ量子ビット\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{\\psi_{a,x}}\u003c/eq\u003e\u003c/embed-katex\u003eを送信する\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eボブは量子状態\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{\\psi_{a,x}}\u003c/eq\u003e\u003c/embed-katex\u003eを受信し、ボブの希望\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003eb \\in \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003eを選択する\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eボブは次のような基底状態\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\mathcal{B}_{\\overline{b}}\u003c/eq\u003e\u003c/embed-katex\u003eで\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{\\psi_{a,x}}\u003c/eq\u003e\u003c/embed-katex\u003eを測定し、測定結果を\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ey\u003c/eq\u003e\u003c/embed-katex\u003eとする\u003c/p\u003e\n\u003csection class=\"zenn-katex\"\u003e\u003ceqn\u003e\u003cembed-katex display-mode=\"1\"\u003e\n    \\mathcal{B}_{\\overline{b}} \\equiv \\left\\{\\ket{\\psi_{\\overline{b},0}}, \\ket{\\psi_{\\overline{b},1}}\\right\\}\n    \u003c/embed-katex\u003e\u003c/eqn\u003e\u003c/section\u003e\u003c/math\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\overline{b}\u003c/eq\u003e\u003c/embed-katex\u003eを利用することに注意する\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eボブはアリスへ\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ey\u003c/eq\u003e\u003c/embed-katex\u003eを送信する\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eアリスは\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ey\u003c/eq\u003e\u003c/embed-katex\u003eを受けとり、\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea \\oplus x \\oplus y\u003c/eq\u003e\u003c/embed-katex\u003e\u003csup class=\"footnote-ref\"\u003e\u003ca href=\"#fn5\" id=\"fnref5\"\u003e[5]\u003c/a\u003e\u003c/sup\u003eをボブへ送信しプロトコルの結果とする\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eこのプロトコルだけ見せられても実際に正しく動作しているのかよく分からないと思うので、アリスの変数\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea, x\u003c/eq\u003e\u003c/embed-katex\u003eとボブの変数\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003eb\u003c/eq\u003e\u003c/embed-katex\u003eについて\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ey\u003c/eq\u003e\u003c/embed-katex\u003eや\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea \\oplus x \\oplus y\u003c/eq\u003e\u003c/embed-katex\u003eがどうなるのか？というのを次の表にまとめた。\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/th\u003e\n\u003cth\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ex\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/th\u003e\n\u003cth\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{\\psi_{a,x}}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/th\u003e\n\u003cth\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\overline{b}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/th\u003e\n\u003cth\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\mathcal{B}_{\\overline{b}}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/th\u003e\n\u003cth style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ey\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/th\u003e\n\u003cth style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea \\oplus x \\oplus y\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e（後手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{0}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e（先手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\left\\{\\ket{0}, \\ket{1}\\right\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e（後手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{0}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e（後手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\left\\{\\ket{+}, \\ket{-}\\right\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003er \\xleftarrow{\\text{rnd}} \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003er \\xleftarrow{\\text{rnd}} \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e（後手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{1}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e（先手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\left\\{\\ket{0}, \\ket{1}\\right\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e（後手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{1}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e（後手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\left\\{\\ket{+}, \\ket{-}\\right\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003er \\xleftarrow{\\text{rnd}} \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003er \\xleftarrow{\\text{rnd}} \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e（先手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{+}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e（先手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\left\\{\\ket{0}, \\ket{1}\\right\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003er \\xleftarrow{\\text{rnd}} \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003er \\xleftarrow{\\text{rnd}} \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e（先手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{+}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e（後手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\left\\{\\ket{+}, \\ket{-}\\right\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e（先手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{-}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003e（先手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\left\\{\\ket{0}, \\ket{1}\\right\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003er \\xleftarrow{\\text{rnd}} \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003er \\xleftarrow{\\text{rnd}} \\{0, 1\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e（先手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\ket{-}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e（後手）\u003c/td\u003e\n\u003ctd\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\left\\{\\ket{+}, \\ket{-}\\right\\}\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eこのようにアリスとボブの先手・後手の希望が異なる時に限って最終的な出力\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea \\oplus x \\oplus y\u003c/eq\u003e\u003c/embed-katex\u003eがアリスの先手・後手を示すようになっている。\u003cbr\u003e\nなぜこのようになるのか？そのアイディアをまとめると\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea = \\overline{b}\\,(\\Rightarrow a \\ne b)\u003c/eq\u003e\u003c/embed-katex\u003eのときは（5）の測定結果\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ey\u003c/eq\u003e\u003c/embed-katex\u003eはアリスの乱数\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ex\u003c/eq\u003e\u003c/embed-katex\u003eと必ず一致する\n\u003cul\u003e\n\u003cli\u003e一方で\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea \\ne \\overline{b}\u003c/eq\u003e\u003c/embed-katex\u003eのときは\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ey\u003c/eq\u003e\u003c/embed-katex\u003eが乱数になるため、\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea \\oplus x \\oplus y\u003c/eq\u003e\u003c/embed-katex\u003eは最終的に乱数とXORするので乱数となりOKである\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea = \\overline{b}\u003c/eq\u003e\u003c/embed-katex\u003eなときは\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ex = y\u003c/eq\u003e\u003c/embed-katex\u003eなので、したがって\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea \\oplus x \\oplus y\u003c/eq\u003e\u003c/embed-katex\u003eのXORはキャンセルされて\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ea\u003c/eq\u003e\u003c/embed-katex\u003eが計算される\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"%E3%81%93%E3%81%AE%E3%83%97%E3%83%AD%E3%83%88%E3%82%B3%E3%83%AB%E3%81%AE%E5%95%8F%E9%A1%8C%E7%82%B9\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%81%93%E3%81%AE%E3%83%97%E3%83%AD%E3%83%88%E3%82%B3%E3%83%AB%E3%81%AE%E5%95%8F%E9%A1%8C%E7%82%B9\" rel=\"nofollow\"\u003e\u003c/a\u003e このプロトコルの問題点\u003c/h2\u003e\n\u003cp\u003eこのプロトコルでは（7）で最後にアリスの手元で行なわれる計算が最終的な結果となるため、アリスが不誠実であればここで結果を意図的に変更できる。したがってこれは少なくともアリスがセミオネスト\u003csup class=\"footnote-ref\"\u003e\u003ca href=\"#fn6\" id=\"fnref6\"\u003e[6]\u003c/a\u003e\u003c/sup\u003eであるという仮定の下でしか上手くいかない。\u003c/p\u003e\n\u003ch1 id=\"covert-lottery%E3%81%A8%E3%82%AC%E3%83%81%E3%83%A3\"\u003e\u003ca class=\"header-anchor-link\" href=\"#covert-lottery%E3%81%A8%E3%82%AC%E3%83%81%E3%83%A3\" rel=\"nofollow\"\u003e\u003c/a\u003e Covert Lotteryとガチャ\u003c/h1\u003e\n\u003cp\u003e元論文でもCovert Lotteryと呼ばれているように、これは先手・後手の決定とは別にくじに使うことができる。元論文ではこの2人のCovert Lotteryを任意の多人数へ拡張して次のような説明をしている。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003en\u003c/eq\u003e\u003c/embed-katex\u003e人の\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003eP_1, \\dots P_n\u003c/eq\u003e\u003c/embed-katex\u003e参加者が\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003em\u003c/eq\u003e\u003c/embed-katex\u003e個の景品\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003eI_1, \\dots, I_m\u003c/eq\u003e\u003c/embed-katex\u003eのうちいくつか（0個もOK）が欲しいと考えている\u003c/li\u003e\n\u003cli\u003e景品\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003eI_i\u003c/eq\u003e\u003c/embed-katex\u003eについて、プレイヤーは\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003eまたは\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003eを投票する\u003c/li\u003e\n\u003cli\u003eこのとき\n\u003col\u003e\n\u003cli\u003eもし1人のプレイヤー\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003eP_j\u003c/eq\u003e\u003c/embed-katex\u003eのみが\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003eを投票し、それ以外の全プレイヤーが\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e0\u003c/eq\u003e\u003c/embed-katex\u003eを投票していれば\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003eP_j\u003c/eq\u003e\u003c/embed-katex\u003eが景品\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003eI_i\u003c/eq\u003e\u003c/embed-katex\u003eを入手する\u003c/li\u003e\n\u003cli\u003e一方で複数のプレイヤーが\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e1\u003c/eq\u003e\u003c/embed-katex\u003eを投票した場合は、そのプレイヤーの中からランダムに1人を決定する\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eつまり、2人のCovert Lotteryも上記のように考えると、2人のプレイヤーにおいて次のようになる。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eどちらか1人のみ景品が欲しい場合はそちらに景品が当選する\u003c/li\u003e\n\u003cli\u003e2人ともが景品が欲しい・欲くない場合はランダムに当選者が選択される\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eつまり複数のプレイヤー間で、プレイヤーの希望を隠蔽したまま景品をなるべく希望に沿う形で当選させることができる。たとえば欲しくない景品が当選したので転売するといったことはあるだろうと思うので、そういったことをなるべく少なくできるかもしれない。\u003c/p\u003e\n\u003ch1 id=\"%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" rel=\"nofollow\"\u003e\u003c/a\u003e まとめ\u003c/h1\u003e\n\u003cp\u003eアリスがセミオネストであるという仮定をなんとか取り除けないか多少は考えたものの、すぐには思いつかなかったのでいったんこのままで公開することにした。もしよい方法を思いついたという方がいれば教えてほしい。\u003cbr\u003e\nまた元論文では今回紹介した2人のプロトコルを任意の人数へ拡張していたため、そちらも量子プロトコルで達成できないか？というのを考えていきたい。\u003c/p\u003e\n\u003ch1 id=\"%E8%AC%9D%E8%BE%9E\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E8%AC%9D%E8%BE%9E\" rel=\"nofollow\"\u003e\u003c/a\u003e 謝辞\u003c/h1\u003e\n\u003cp\u003e元論文を教えてくれた\u003ca href=\"https://twitter.com/mimizunohimono\" rel=\"nofollow\"\u003e@mimizunohimono\u003c/a\u003e君に感謝したい。\u003c/p\u003e\n\u003csection class=\"footnotes\"\u003e\n\u003cdiv class=\"footnotes-title\"\u003e\u003cimg src=\"https://twemoji.maxcdn.com/2/svg/1f58b.svg\" class=\"emoji footnotes-twemoji\" loading=\"lazy\" width=\"20\" height=\"20\"\u003e脚注\u003c/div\u003e\n\u003col class=\"footnotes-list\"\u003e\n\u003cli id=\"fn1\" class=\"footnote-item\"\u003e\u003cp\u003eこの論文のことを今後は「元論文」という呼ぶことにする。 \u003ca href=\"#fnref1\" class=\"footnote-backref\"\u003e↩︎\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli id=\"fn2\" class=\"footnote-item\"\u003e\u003cp\u003eこの文書を読むうえではカードベース暗号の知識は必要ないが、これはこれで非常におもしろいので、たとえば\u003ca href=\"https://doi.org/10.1587/essfr.9.3_179\" rel=\"nofollow\"\u003eカード組を用いた秘密計算\u003c/a\u003eといった文献を読むとよい。 \u003ca href=\"#fnref2\" class=\"footnote-backref\"\u003e↩︎\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli id=\"fn3\" class=\"footnote-item\"\u003e\u003cp\u003e論文では矢印の上に\u003ccode\u003e$\u003c/code\u003e（LaTeX表記では\u003ccode\u003e\\xleftarrow{\\text{$}}\u003c/code\u003e）の記号を利用してランダムを表現しているが、Zennのパーザーの都合（？）でこの表記が数式として認められなかったため表記を変更した。 \u003ca href=\"#fnref3\" class=\"footnote-backref\"\u003e↩︎\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli id=\"fn4\" class=\"footnote-item\"\u003e\u003cp\u003eこの記事では量子コンピュータの基本的な演算の知識を前提としている。このあたりは拙著の\u003ca href=\"https://qiita.com/yyu/items/efcf471ce9b97e885957#%E5%8F%A4%E5%85%B8%E8%A8%88%E7%AE%97%E6%A9%9F%E3%81%A8%E9%87%8F%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF\" rel=\"nofollow\"\u003e量子コンピュータを利用した公平なガチャ#古典計算機と量子コンピュータ\u003c/a\u003eなどを参考にしてほしい。 \u003ca href=\"#fnref4\" class=\"footnote-backref\"\u003e↩︎\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli id=\"fn5\" class=\"footnote-item\"\u003e\u003cp\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\oplus\u003c/eq\u003e\u003c/embed-katex\u003eはXOR演算を表す。 \u003ca href=\"#fnref5\" class=\"footnote-backref\"\u003e↩︎\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli id=\"fn6\" class=\"footnote-item\"\u003e\u003cp\u003eプレイヤーが「セミオネスト（\u003cem\u003esemi-honest\u003c/em\u003e）」であるとき、このプレイヤーはプロトコルの指示には違反しないが、プロトコルの指示に従う限りで（できるなら）他プレイヤーの情報を奪うといった不誠実な振る舞いをする。 \u003ca href=\"#fnref6\" class=\"footnote-backref\"\u003e↩︎\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/section\u003e\n","title":"量子コンピュータで“Covert”⁉️な1bitガチャ","emoji":"🙈","type":"tech","topics":["量子コンピュータ","暗号","セキュリティ"],"published":false},"allContentsNavCollections":[{"name":"articles","items":[{"name":"🏹 \u003cspan class=\"draft\"\u003e下書き\u003c/span\u003eSwift Bow Archの入門","href":"/articles/[slug]","as":"/articles/268447da9fb103"},{"name":"📄 Zennの記事をGitHub Pagesで無理やり表示する","href":"/articles/[slug]","as":"/articles/54134d8df9f9b5385fc3"},{"name":"🙈 \u003cspan class=\"draft\"\u003e下書き\u003c/span\u003e量子コンピュータで“Covert”⁉️な1bitガチャ","href":"/articles/[slug]","as":"/articles/79c6c48226166aa0e875"},{"name":"📈 Scala + Play on HerokuなWebアプリにNew Relicを導入","href":"/articles/[slug]","as":"/articles/scala-play-new-relic"}]},{"name":"books","items":[{"name":"✨ 最初の本を作成しましょう","href":"/"}]}]},"__N_SSP":true},"page":"/articles/[slug]","query":{"slug":"79c6c48226166aa0e875"},"buildId":"Iw9_T9HmY8-P8OB-CVWN1","isFallback":false,"gssp":true,"customServer":true}</script><script nomodule="" src="../_next/static/chunks/polyfills-bc93924a219b603c3b70.js"></script><script src="../_next/static/chunks/main-1b66b3d4e760501de7fc.js" async=""></script><script src="../_next/static/chunks/webpack-101b4f64d52887b5db9b.js" async=""></script><script src="../_next/static/chunks/framework.c81d3c1a1154ef2f0a4c.js" async=""></script><script src="../_next/static/chunks/commons.1d17d07e0ebe7c16f5b5.js" async=""></script><script src="../_next/static/chunks/pages/_app-b342a0da64871712e09b.js" async=""></script><script src="../_next/static/chunks/7ea9eb72fe501167df0c2d045178d60d280aa121.549ac0d8bdc0604fb58b.js" async=""></script><script src="../_next/static/chunks/fac796102cd92fcc9d69418a1184140a0c3193c8.fee5f3964bb5b2c71f69.js" async=""></script><script src="../_next/static/chunks/pages/articles/[slug]-ed1dc9d6a24fac085414.js" async=""></script><script src="../_next/static/Iw9_T9HmY8-P8OB-CVWN1/_buildManifest.js" async=""></script><script src="../_next/static/Iw9_T9HmY8-P8OB-CVWN1/_ssgManifest.js" async=""></script></body></html>