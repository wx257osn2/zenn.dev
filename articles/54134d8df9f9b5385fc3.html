<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon shortcut" href="http://localhost:8000/favicon.png"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap"/><title>Zennの記事をGitHub Pagesで無理やり表示するのプレビュー</title><meta name="next-head-count" content="5"/><link rel="preload" href="../_next/static/css/a7138fb57a61ee877547.css" as="style"/><link rel="stylesheet" href="../_next/static/css/a7138fb57a61ee877547.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="../_next/static/chunks/main-1b66b3d4e760501de7fc.js" as="script"/><link rel="preload" href="../_next/static/chunks/webpack-f1b90bf0f0b09fdafd5e.js" as="script"/><link rel="preload" href="../_next/static/chunks/framework.c81d3c1a1154ef2f0a4c.js" as="script"/><link rel="preload" href="../_next/static/chunks/commons.1d17d07e0ebe7c16f5b5.js" as="script"/><link rel="preload" href="../_next/static/chunks/pages/_app-6172f3a28b9c5ad303a5.js" as="script"/><link rel="preload" href="../_next/static/chunks/a3f809992483dcce420433a08b43937b20c8550a.713416322d85650aa9fe.js" as="script"/><link rel="preload" href="../_next/static/chunks/4569227f7c2f3a8dc432bf2b86531b3c5e129fbf.5df67e50effe61dac271.js" as="script"/><link rel="preload" href="../_next/static/chunks/pages/articles/[slug]-6fbda924e60b552cf0b8.js" as="script"/></head><body><div id="__next"><div class="main-container"><div class="main-sidebar"><aside class="sidebar"><header class="sidebar-header"><a class="sidebar-logo-link" href="http://localhost:8000/"><img src="../logo.svg" alt="Zenn Editor" width="160" height="19"/></a><a href="https://github.com/zenn-dev/zenn-editor" class="sidebar-github-link"><img src="../github.svg" alt="GitHub" width="22" height="22"/></a></header><div class="sidebar-collections"><details class="sidebar-collection" open=""><summary class="sidebar-collection__title">articles</summary><ul class="sidebar-collection__ul"><li class="sidebar-collection__li"><a class="sidebar-nav-item " title="/articles/268447da9fb103.md" href="268447da9fb103.html">🏹 <span class="draft">下書き</span>Swift Bow Archの入門</a></li><li class="sidebar-collection__li"><a class="sidebar-nav-item active" title="/articles/54134d8df9f9b5385fc3.md" href="54134d8df9f9b5385fc3.html">📄 Zennの記事をGitHub Pagesで無理やり表示する</a></li></ul></details><details class="sidebar-collection" open=""><summary class="sidebar-collection__title">books</summary><ul class="sidebar-collection__ul"><li class="sidebar-collection__li"><a class="sidebar-nav-item " title="undefined.md" href="http://localhost:8000/">✨ 最初の本を作成しましょう</a></li></ul></details></div><a href="https://zenn.dev/dashboard/uploader" class="sidebar-external-link" target="_blank" rel="noopener noreferrer"><img src="https://twemoji.maxcdn.com/2/svg/\1f4f7.svg" width="16" height="16"/>画像のアップロード</a><a href="https://zenn.dev/zenn/articles/markdown-guide" class="sidebar-external-link" target="_blank" rel="noopener noreferrer"><img src="https://twemoji.maxcdn.com/2/svg/\1f58b.svg" width="16" height="16"/>マークダウン・ガイド</a><a href="https://zenn.dev/zenn/articles/zenn-cli-guide" class="sidebar-external-link" target="_blank" rel="noopener noreferrer"><img src="https://twemoji.maxcdn.com/2/svg/\1f4bb.svg" width="16" height="16"/>CLIコマンド・ガイド</a></aside></div><main class="main-content"><article><div><header class="content-header"><div class="content-wrapper"><h1 class="content-header__title">Zennの記事をGitHub Pagesで無理やり表示する</h1><div class="content-header__row"><span class="content-header__row-title">slug</span><span class="content-header__row-result">54134d8df9f9b5385fc3</span></div><div class="content-header__row"><span class="content-header__row-title">emoji</span><span class="content-header__row-result"><span style="font-size:20px">📄</span></span></div><div class="content-header__row"><span class="content-header__row-title">topics</span><span class="content-header__row-result"><span class="content-header__topic">zenn</span><span class="content-header__topic">docker</span><span class="content-header__topic">github</span></span></div><div class="content-header__row"><span class="content-header__row-title">published</span><span class="content-header__row-result">✅（公開）</span></div><div class="content-header__row"><span class="content-header__row-title">type</span><span class="content-header__row-result">tech<!-- -->（技術記事）</span></div><a href="https://zenn.dev/zenn/articles/zenn-cli-guide" class="content-header__link" rel="noopener noreferrer" target="_blank">記事の作成方法 →</a></div></header><div class="content-wrapper"><div style="margin:40px 0"><div class="znc"><h1 id="%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><a class="header-anchor-link" href="54134d8df9f9b5385fc3.html#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB" rel="nofollow"></a> はじめに</h1>
<p>ZennではZenn上のWebエディターを利用して記事を執筆する方法の他に方法の他に、<a href="https://zenn.dev/zenn/articles/connect-to-github">GitHubリポジトリーと連携させる</a>ことでMarkdownファイルをGitHubにプッシュすることで記事を執筆することもできる。これと<a href="https://zenn.dev/zenn/articles/install-zenn-cli">Zenn CLI</a>を駆使することで、GitHubにした記事が自動的にGitHub Pagesに投稿されるようなものができたので、この記事ではこれを紹介する。たとえばこれを使えば書きかけの記事を誰かと共有したりすることができる。<br>
作成したものは下記のGitHubリポジトリーにおいてある。</p>
<ul>
<li><a href="https://github.com/y-yu/zenn.dev" rel="nofollow">https://github.com/y-yu/zenn.dev</a></li>
</ul>
<p>そして、ここにプッシュすると次のようなページが生成される。</p>
<ul>
<li><a href="https://y-yu.github.io/zenn.dev/articles/54134d8df9f9b5385fc3.html" rel="nofollow">https://y-yu.github.io/zenn.dev/articles/54134d8df9f9b5385fc3.html</a></li>
</ul>
<h1 id="%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8"><a class="header-anchor-link" href="54134d8df9f9b5385fc3.html#%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8" rel="nofollow"></a> やったこと</h1>
<h2 id="1.-zenn-cli%E3%81%AE%E5%85%A5%E3%81%A3%E3%81%9Fdocker%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%81%AE%E4%BD%9C%E6%88%90"><a class="header-anchor-link" href="54134d8df9f9b5385fc3.html#1.-zenn-cli%E3%81%AE%E5%85%A5%E3%81%A3%E3%81%9Fdocker%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%81%AE%E4%BD%9C%E6%88%90" rel="nofollow"></a> 1. Zenn CLIの入ったDockerイメージの作成</h2>
<p>これはZennにもいくつか記事があったが、Docker Hubにあがっているものが軽く調べた限りでなかったので作成した。といってもドキュメントどおりインストールしただけである。</p>

      <div class="code-block-container">
        <div class="code-block-filename-container"><span class="code-block-filename">Dockerfile</span></div>
        <pre class="language-dockerfile"><code class="language-dockerfile">
<span class="token keyword">FROM</span> node<span class="token punctuation">:</span>14

<span class="token keyword">LABEL</span> maintainer=<span class="token string">"YOSHIMURA Hikaru&lt;yyu@mental.poker>"</span>

<span class="token keyword">WORKDIR</span> /workdir

<span class="token keyword">RUN</span> npm init <span class="token punctuation">-</span><span class="token punctuation">-</span>yes \
    &amp;&amp; npm install <span class="token punctuation">-</span>g zenn<span class="token punctuation">-</span>cli@latest \
    &amp;&amp; npx zenn init

<span class="token keyword">EXPOSE</span> 8000
</code></pre>

      </div>
      <p>あとでZenn CLIのプレビューを利用するので<code>8000</code>ポートを<code>EXPOSE</code>しておく。</p>
<h2 id="2.-docker-compose%E3%81%A7docker%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%82%92%E8%B5%B7%E5%8B%95"><a class="header-anchor-link" href="54134d8df9f9b5385fc3.html#2.-docker-compose%E3%81%A7docker%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%82%92%E8%B5%B7%E5%8B%95" rel="nofollow"></a> 2. <code>docker-compose</code>でDockerイメージを起動</h2>
<p>このときにこのリポジトリーをボリュームにしてDockerからアクセスできるようにしておきつつ、<code>npx zenn preview</code>でサーバーを起動する。</p>

      <div class="code-block-container">
        <div class="code-block-filename-container"><span class="code-block-filename">docker-compose.yml</span></div>
        <pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.2'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">zenn-preview</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> yyupw/zenn<span class="token punctuation">:</span>latest
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> .
      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> ./docker/Dockerfile
      <span class="token key atrule">cache_from</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> yyupw/zenn<span class="token punctuation">:</span>latest
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> .<span class="token punctuation">:</span>/workdir
    <span class="token key atrule">entrypoint</span><span class="token punctuation">:</span> npx zenn preview
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8000<span class="token punctuation">:</span><span class="token number">8000</span>
</code></pre>

      </div>
      <p>GitHub Actionsを利用して次のようにした。</p>
<h2 id="3.-wget%E3%81%A7css%E3%82%84js%E3%82%82%E5%90%AB%E3%82%81%E3%81%A6%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89"><a class="header-anchor-link" href="54134d8df9f9b5385fc3.html#3.-wget%E3%81%A7css%E3%82%84js%E3%82%82%E5%90%AB%E3%82%81%E3%81%A6%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89" rel="nofollow"></a> 3. <code>wget</code>でCSSやJSも含めてダウンロード</h2>
<p>すごく適当なBashスクリプトで（2）で立ち上げたプレビューサーバーからHTMLファイルやCSSファイルなどを全てダウンロードする。</p>

      <div class="code-block-container">
        <div class="code-block-filename-container"><span class="code-block-filename">wget.sh</span></div>
        <pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">set</span> -x

<span class="token function">sleep</span> <span class="token number">2</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">"./targets"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token function">mkdir</span> targets
<span class="token keyword">fi</span>

<span class="token function">wget</span> --mirror <span class="token punctuation">\</span>
  --quiet --show-progress <span class="token punctuation">\</span>
  --no-parent <span class="token punctuation">\</span>
  --convert-links <span class="token punctuation">\</span>
  --no-host-directories <span class="token punctuation">\</span>
  --adjust-extension <span class="token punctuation">\</span>
  --execute <span class="token assign-left variable">robots</span><span class="token operator">=</span>off <span class="token punctuation">\</span>
  --directory-prefix<span class="token operator">=</span>./targets <span class="token punctuation">\</span>
  http://localhost:8000/

<span class="token keyword">for</span> <span class="token for-or-select variable">article</span> <span class="token keyword">in</span> ./articles/*.md<span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$article</span> <span class="token operator">=</span>~ articles/<span class="token punctuation">(</span>.*<span class="token punctuation">)</span><span class="token punctuation">\</span>.md <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token function">wget</span> --mirror <span class="token punctuation">\</span>
      --page-requisites <span class="token punctuation">\</span>
      --quiet --show-progress <span class="token punctuation">\</span>
      --no-parent <span class="token punctuation">\</span>
      --convert-links <span class="token punctuation">\</span>
      --no-host-directories <span class="token punctuation">\</span>
      --adjust-extension <span class="token punctuation">\</span>
      --execute <span class="token assign-left variable">robots</span><span class="token operator">=</span>off <span class="token punctuation">\</span>
      --directory-prefix<span class="token operator">=</span>./targets <span class="token punctuation">\</span>
      <span class="token string">"http://localhost:8000/articles/<span class="token variable">${<span class="token environment constant">BASH_REMATCH</span><span class="token punctuation">[</span>1<span class="token punctuation">]</span>}</span>"</span>
  <span class="token keyword">fi</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre>

      </div>
      <h2 id="3.-github-pages%E3%81%AB%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89"><a class="header-anchor-link" href="54134d8df9f9b5385fc3.html#3.-github-pages%E3%81%AB%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89" rel="nofollow"></a> 3. GitHub Pagesにアップロード</h2>
<p>これはTravis CIだと公開鍵をGitHubのDeploy Keysに登録するなど面倒なことが多かったが、GitHub Actionsなら<a href="https://github.com/marketplace/actions/deploy-to-github-pages" rel="nofollow">JamesIves/github-pages-deploy-action</a>を使うだけでOKである。</p>
<h1 id="%E6%B3%A8%E6%84%8F%E3%81%99%E3%82%8B%E7%82%B9"><a class="header-anchor-link" href="54134d8df9f9b5385fc3.html#%E6%B3%A8%E6%84%8F%E3%81%99%E3%82%8B%E7%82%B9" rel="nofollow"></a> 注意する点</h1>
<p>あまり本質的ではないが注意する点をあげておく。</p>
<ul>
<li><code>.nojekyll</code>ファイルを<code>gh-pages</code>ブランチなどに設定しておく
<ul>
<li>これがないと<code>_next</code>などのフォルダーがない扱い（404 Not Found）となってしまう</li>
</ul>
</li>
<li><embed-katex><eq class="zenn-katex">\LaTeX</eq></embed-katex>形式の数式がプレビューされない
<ul>
<li>どうして……😇</li>
</ul>
</li>
</ul>
<h1 id="%E3%81%BE%E3%81%A8%E3%82%81"><a class="header-anchor-link" href="54134d8df9f9b5385fc3.html#%E3%81%BE%E3%81%A8%E3%82%81" rel="nofollow"></a> まとめ</h1>
<p><code>wget</code>コマンドで全てダウンロードするという方法は超適当ではあるが、とりあえずこれで何かそれっぽいものを共有することはできそうである。本当はZenn CLIにHTMLを吐き出すモードが実装されるとよいとは思う。</p>
</div></div></div></div></article></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"slug":"54134d8df9f9b5385fc3","content":"\u003ch1 id=\"%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" rel=\"nofollow\"\u003e\u003c/a\u003e はじめに\u003c/h1\u003e\n\u003cp\u003eZennではZenn上のWebエディターを利用して記事を執筆する方法の他に方法の他に、\u003ca href=\"https://zenn.dev/zenn/articles/connect-to-github\"\u003eGitHubリポジトリーと連携させる\u003c/a\u003eことでMarkdownファイルをGitHubにプッシュすることで記事を執筆することもできる。これと\u003ca href=\"https://zenn.dev/zenn/articles/install-zenn-cli\"\u003eZenn CLI\u003c/a\u003eを駆使することで、GitHubにした記事が自動的にGitHub Pagesに投稿されるようなものができたので、この記事ではこれを紹介する。たとえばこれを使えば書きかけの記事を誰かと共有したりすることができる。\u003cbr\u003e\n作成したものは下記のGitHubリポジトリーにおいてある。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/y-yu/zenn.dev\" rel=\"nofollow\"\u003ehttps://github.com/y-yu/zenn.dev\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eそして、ここにプッシュすると次のようなページが生成される。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://y-yu.github.io/zenn.dev/articles/54134d8df9f9b5385fc3.html\" rel=\"nofollow\"\u003ehttps://y-yu.github.io/zenn.dev/articles/54134d8df9f9b5385fc3.html\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\" rel=\"nofollow\"\u003e\u003c/a\u003e やったこと\u003c/h1\u003e\n\u003ch2 id=\"1.-zenn-cli%E3%81%AE%E5%85%A5%E3%81%A3%E3%81%9Fdocker%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ca class=\"header-anchor-link\" href=\"#1.-zenn-cli%E3%81%AE%E5%85%A5%E3%81%A3%E3%81%9Fdocker%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%81%AE%E4%BD%9C%E6%88%90\" rel=\"nofollow\"\u003e\u003c/a\u003e 1. Zenn CLIの入ったDockerイメージの作成\u003c/h2\u003e\n\u003cp\u003eこれはZennにもいくつか記事があったが、Docker Hubにあがっているものが軽く調べた限りでなかったので作成した。といってもドキュメントどおりインストールしただけである。\u003c/p\u003e\n\n      \u003cdiv class=\"code-block-container\"\u003e\n        \u003cdiv class=\"code-block-filename-container\"\u003e\u003cspan class=\"code-block-filename\"\u003eDockerfile\u003c/span\u003e\u003c/div\u003e\n        \u003cpre class=\"language-dockerfile\"\u003e\u003ccode class=\"language-dockerfile\"\u003e\n\u003cspan class=\"token keyword\"\u003eFROM\u003c/span\u003e node\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e14\n\n\u003cspan class=\"token keyword\"\u003eLABEL\u003c/span\u003e maintainer=\u003cspan class=\"token string\"\u003e\"YOSHIMURA Hikaru\u0026lt;yyu@mental.poker\u003e\"\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003eWORKDIR\u003c/span\u003e /workdir\n\n\u003cspan class=\"token keyword\"\u003eRUN\u003c/span\u003e npm init \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eyes \\\n    \u0026amp;\u0026amp; npm install \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eg zenn\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003ecli@latest \\\n    \u0026amp;\u0026amp; npx zenn init\n\n\u003cspan class=\"token keyword\"\u003eEXPOSE\u003c/span\u003e 8000\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003c/div\u003e\n      \u003cp\u003eあとでZenn CLIのプレビューを利用するので\u003ccode\u003e8000\u003c/code\u003eポートを\u003ccode\u003eEXPOSE\u003c/code\u003eしておく。\u003c/p\u003e\n\u003ch2 id=\"2.-docker-compose%E3%81%A7docker%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%82%92%E8%B5%B7%E5%8B%95\"\u003e\u003ca class=\"header-anchor-link\" href=\"#2.-docker-compose%E3%81%A7docker%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%82%92%E8%B5%B7%E5%8B%95\" rel=\"nofollow\"\u003e\u003c/a\u003e 2. \u003ccode\u003edocker-compose\u003c/code\u003eでDockerイメージを起動\u003c/h2\u003e\n\u003cp\u003eこのときにこのリポジトリーをボリュームにしてDockerからアクセスできるようにしておきつつ、\u003ccode\u003enpx zenn preview\u003c/code\u003eでサーバーを起動する。\u003c/p\u003e\n\n      \u003cdiv class=\"code-block-container\"\u003e\n        \u003cdiv class=\"code-block-filename-container\"\u003e\u003cspan class=\"code-block-filename\"\u003edocker-compose.yml\u003c/span\u003e\u003c/div\u003e\n        \u003cpre class=\"language-yaml\"\u003e\u003ccode class=\"language-yaml\"\u003e\u003cspan class=\"token key atrule\"\u003eversion\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'3.2'\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003eservices\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token key atrule\"\u003ezenn-preview\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token key atrule\"\u003eimage\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e yyupw/zenn\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003elatest\n    \u003cspan class=\"token key atrule\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"token key atrule\"\u003econtext\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e .\n      \u003cspan class=\"token key atrule\"\u003edockerfile\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e ./docker/Dockerfile\n      \u003cspan class=\"token key atrule\"\u003ecache_from\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e yyupw/zenn\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003elatest\n    \u003cspan class=\"token key atrule\"\u003evolumes\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e .\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e/workdir\n    \u003cspan class=\"token key atrule\"\u003eentrypoint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e npx zenn preview\n    \u003cspan class=\"token key atrule\"\u003eports\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e 8000\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e8000\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003c/div\u003e\n      \u003cp\u003eGitHub Actionsを利用して次のようにした。\u003c/p\u003e\n\u003ch2 id=\"3.-wget%E3%81%A7css%E3%82%84js%E3%82%82%E5%90%AB%E3%82%81%E3%81%A6%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89\"\u003e\u003ca class=\"header-anchor-link\" href=\"#3.-wget%E3%81%A7css%E3%82%84js%E3%82%82%E5%90%AB%E3%82%81%E3%81%A6%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89\" rel=\"nofollow\"\u003e\u003c/a\u003e 3. \u003ccode\u003ewget\u003c/code\u003eでCSSやJSも含めてダウンロード\u003c/h2\u003e\n\u003cp\u003eすごく適当なBashスクリプトで（2）で立ち上げたプレビューサーバーからHTMLファイルやCSSファイルなどを全てダウンロードする。\u003c/p\u003e\n\n      \u003cdiv class=\"code-block-container\"\u003e\n        \u003cdiv class=\"code-block-filename-container\"\u003e\u003cspan class=\"code-block-filename\"\u003ewget.sh\u003c/span\u003e\u003c/div\u003e\n        \u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token shebang important\"\u003e#!/bin/bash\u003c/span\u003e\n\n\u003cspan class=\"token builtin class-name\"\u003eset\u003c/span\u003e -x\n\n\u003cspan class=\"token function\"\u003esleep\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e \u003cspan class=\"token operator\"\u003e!\u003c/span\u003e -d \u003cspan class=\"token string\"\u003e\"./targets\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003emkdir\u003c/span\u003e targets\n\u003cspan class=\"token keyword\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"token function\"\u003ewget\u003c/span\u003e --mirror \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  --quiet --show-progress \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  --no-parent \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  --convert-links \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  --no-host-directories \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  --adjust-extension \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  --execute \u003cspan class=\"token assign-left variable\"\u003erobots\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eoff \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  --directory-prefix\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e./targets \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  http://localhost:8000/\n\n\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token for-or-select variable\"\u003earticle\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e ./articles/*.md\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edo\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$article\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e~ articles/\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e.*\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e.md \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethen\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003ewget\u003c/span\u003e --mirror \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n      --page-requisites \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n      --quiet --show-progress \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n      --no-parent \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n      --convert-links \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n      --no-host-directories \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n      --adjust-extension \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n      --execute \u003cspan class=\"token assign-left variable\"\u003erobots\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eoff \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n      --directory-prefix\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e./targets \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n      \u003cspan class=\"token string\"\u003e\"http://localhost:8000/articles/\u003cspan class=\"token variable\"\u003e${\u003cspan class=\"token environment constant\"\u003eBASH_REMATCH\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e1\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e}\u003c/span\u003e\"\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003efi\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003edone\u003c/span\u003e\n\n\u003cspan class=\"token builtin class-name\"\u003eexit\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003c/div\u003e\n      \u003ch2 id=\"3.-github-pages%E3%81%AB%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89\"\u003e\u003ca class=\"header-anchor-link\" href=\"#3.-github-pages%E3%81%AB%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89\" rel=\"nofollow\"\u003e\u003c/a\u003e 3. GitHub Pagesにアップロード\u003c/h2\u003e\n\u003cp\u003eこれはTravis CIだと公開鍵をGitHubのDeploy Keysに登録するなど面倒なことが多かったが、GitHub Actionsなら\u003ca href=\"https://github.com/marketplace/actions/deploy-to-github-pages\" rel=\"nofollow\"\u003eJamesIves/github-pages-deploy-action\u003c/a\u003eを使うだけでOKである。\u003c/p\u003e\n\u003ch1 id=\"%E6%B3%A8%E6%84%8F%E3%81%99%E3%82%8B%E7%82%B9\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E6%B3%A8%E6%84%8F%E3%81%99%E3%82%8B%E7%82%B9\" rel=\"nofollow\"\u003e\u003c/a\u003e 注意する点\u003c/h1\u003e\n\u003cp\u003eあまり本質的ではないが注意する点をあげておく。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e.nojekyll\u003c/code\u003eファイルを\u003ccode\u003egh-pages\u003c/code\u003eブランチなどに設定しておく\n\u003cul\u003e\n\u003cli\u003eこれがないと\u003ccode\u003e_next\u003c/code\u003eなどのフォルダーがない扱い（404 Not Found）となってしまう\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e\\LaTeX\u003c/eq\u003e\u003c/embed-katex\u003e形式の数式がプレビューされない\n\u003cul\u003e\n\u003cli\u003eどうして……😇\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" rel=\"nofollow\"\u003e\u003c/a\u003e まとめ\u003c/h1\u003e\n\u003cp\u003e\u003ccode\u003ewget\u003c/code\u003eコマンドで全てダウンロードするという方法は超適当ではあるが、とりあえずこれで何かそれっぽいものを共有することはできそうである。本当はZenn CLIにHTMLを吐き出すモードが実装されるとよいとは思う。\u003c/p\u003e\n","title":"Zennの記事をGitHub Pagesで無理やり表示する","emoji":"📄","type":"tech","topics":["zenn","docker","github"],"published":true},"allContentsNavCollections":[{"name":"articles","items":[{"name":"🏹 \u003cspan class=\"draft\"\u003e下書き\u003c/span\u003eSwift Bow Archの入門","href":"/articles/[slug]","as":"/articles/268447da9fb103"},{"name":"📄 Zennの記事をGitHub Pagesで無理やり表示する","href":"/articles/[slug]","as":"/articles/54134d8df9f9b5385fc3"}]},{"name":"books","items":[{"name":"✨ 最初の本を作成しましょう","href":"/"}]}]},"__N_SSP":true},"page":"/articles/[slug]","query":{"slug":"54134d8df9f9b5385fc3"},"buildId":"x7BkJ6E_1srVkio6iP_OT","isFallback":false,"gssp":true,"customServer":true}</script><script nomodule="" src="../_next/static/chunks/polyfills-bc93924a219b603c3b70.js"></script><script src="../_next/static/chunks/main-1b66b3d4e760501de7fc.js" async=""></script><script src="../_next/static/chunks/webpack-f1b90bf0f0b09fdafd5e.js" async=""></script><script src="../_next/static/chunks/framework.c81d3c1a1154ef2f0a4c.js" async=""></script><script src="../_next/static/chunks/commons.1d17d07e0ebe7c16f5b5.js" async=""></script><script src="../_next/static/chunks/pages/_app-6172f3a28b9c5ad303a5.js" async=""></script><script src="../_next/static/chunks/a3f809992483dcce420433a08b43937b20c8550a.713416322d85650aa9fe.js" async=""></script><script src="../_next/static/chunks/4569227f7c2f3a8dc432bf2b86531b3c5e129fbf.5df67e50effe61dac271.js" async=""></script><script src="../_next/static/chunks/pages/articles/[slug]-6fbda924e60b552cf0b8.js" async=""></script><script src="../_next/static/x7BkJ6E_1srVkio6iP_OT/_buildManifest.js" async=""></script><script src="../_next/static/x7BkJ6E_1srVkio6iP_OT/_ssgManifest.js" async=""></script></body></html>